{"version":3,"sources":["scripts/main.js"],"names":["body","document","querySelector","table","thead","tbody","headers","tr","querySelectorAll","sorted","i","children","length","setAttribute","removeSeparator","string","split","join","sortStrings","data","key","dataTable","direction","getAttribute","newDataTable","sort","a","b","stringA","stringB","textContent","sortNumbers","numA","parseInt","numB","printNotification","stat","message","insertAdjacentHTML","notification","setTimeout","remove","addEventListener","e","target","closest","innerHTML","map","el","classList","add","form","button","nameInput","ageInput","positionInput","officeInput","salaryInput","salaryFormated","value","Number","isInteger","count"],"mappings":"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","file":"main.96c57e68.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst body = document.querySelector('body');\nconst table = document.querySelector('table');\nconst thead = table.querySelector('thead');\nconst tbody = table.querySelector('tbody');\nconst headers = thead.querySelector('tr');\nlet tr = tbody.querySelectorAll('tr');\nlet sorted = [];\n\nfor (let i = 0; i < headers.children.length; i++) {\n  headers.children[i].setAttribute('dataDirection', 'ASC');\n}\n\nfunction removeSeparator(string) {\n  return string.split(',').join('').split('$').join('');\n}\n\nfunction sortStrings(data, key) {\n  const dataTable = [...data];\n  const direction = headers.children[key].getAttribute('dataDirection');\n\n  const newDataTable = dataTable.sort((a, b) => {\n    let stringA;\n    let stringB;\n\n    if (direction === 'ASC') {\n      stringA = a.children[key].textContent;\n      stringB = b.children[key].textContent;\n      headers.children[key].setAttribute('dataDirection', 'DESC');\n    } else {\n      stringA = b.children[key].textContent;\n      stringB = a.children[key].textContent;\n      headers.children[key].setAttribute('dataDirection', 'ASC');\n    }\n\n    if (stringA > stringB) {\n      return 1;\n    }\n\n    if (stringA === stringB) {\n      return 0;\n    }\n\n    return -1;\n  });\n\n  return newDataTable;\n}\n\nfunction sortNumbers(data, key) {\n  const dataTable = [...data];\n  const direction = headers.children[key].getAttribute('dataDirection');\n\n  const newDataTable = dataTable.sort((a, b) => {\n    const stringA = a.children[key].textContent;\n    const stringB = b.children[key].textContent;\n    const numA = parseInt(removeSeparator(stringA));\n    const numB = parseInt(removeSeparator(stringB));\n\n    if (direction === 'ASC') {\n      headers.children[key].setAttribute('dataDirection', 'DESC');\n\n      return numA - numB;\n    }\n\n    headers.children[key].setAttribute('dataDirection', 'ASC');\n\n    return numB - numA;\n  });\n\n  return newDataTable;\n}\n\nthead.addEventListener('click', e => {\n  if (!e.target.closest('thead')) {\n    return;\n  }\n\n  tr = tbody.querySelectorAll('tr');\n\n  switch (e.target.textContent) {\n    case headers.children[0].textContent :\n      sorted = sortStrings(tr, 0);\n      headers.children[1].setAttribute('dataDirection', 'ASC');\n      headers.children[2].setAttribute('dataDirection', 'ASC');\n      headers.children[3].setAttribute('dataDirection', 'ASC');\n      headers.children[4].setAttribute('dataDirection', 'ASC');\n      break;\n    case headers.children[1].textContent :\n      sorted = sortStrings(tr, 1);\n      headers.children[0].setAttribute('dataDirection', 'ASC');\n      headers.children[2].setAttribute('dataDirection', 'ASC');\n      headers.children[3].setAttribute('dataDirection', 'ASC');\n      headers.children[4].setAttribute('dataDirection', 'ASC');\n      break;\n    case headers.children[2].textContent :\n      sorted = sortStrings(tr, 2);\n      headers.children[0].setAttribute('dataDirection', 'ASC');\n      headers.children[1].setAttribute('dataDirection', 'ASC');\n      headers.children[3].setAttribute('dataDirection', 'ASC');\n      headers.children[4].setAttribute('dataDirection', 'ASC');\n      break;\n    case headers.children[3].textContent :\n      sorted = sortNumbers(tr, 3);\n      headers.children[0].setAttribute('dataDirection', 'ASC');\n      headers.children[1].setAttribute('dataDirection', 'ASC');\n      headers.children[2].setAttribute('dataDirection', 'ASC');\n      headers.children[4].setAttribute('dataDirection', 'ASC');\n      break;\n    case headers.children[4].textContent :\n      sorted = sortNumbers(tr, 4);\n      headers.children[0].setAttribute('dataDirection', 'ASC');\n      headers.children[1].setAttribute('dataDirection', 'ASC');\n      headers.children[2].setAttribute('dataDirection', 'ASC');\n      headers.children[3].setAttribute('dataDirection', 'ASC');\n      break;\n    default :\n      sorted = [...tr];\n      break;\n  }\n\n  tbody.innerHTML = `\n    ${sorted.map(el => `\n    <tr>\n      <td>${el.children[0].textContent}</td>\n      <td>${el.children[1].textContent}</td>\n      <td>${el.children[2].textContent}</td>\n      <td>${el.children[3].textContent}</td>\n      <td>${el.children[4].textContent}</td>\n    </tr>\n    `).join('')}\n  `;\n});\n\ntbody.addEventListener('click', e => {\n  if (!e.target.closest('tr')) {\n    return;\n  }\n\n  tr = tbody.querySelectorAll('tr');\n\n  for (const el of tr) {\n    el.classList.remove('active');\n  }\n\n  e.target.closest('tr').classList.add('active');\n});\n\nbody.insertAdjacentHTML('beforeend', `\n  <form action=\"#\" class=\"new-employee-form\">\n    <label>Name: <input name=\"name\" type=\"text\" data-qa=\"name\" required></label>\n    <label>Position:\n      <input name=\"position\" type=\"text\" data-qa=\"position\" required>\n    </label>\n    <label>Office: <select name=\"select\" data-qa=\"office\" required>\n      <option value=\"Tokyo\" selected>Tokyo</option>\n      <option value=\"Singapore\">Singapore</option>\n      <option value=\"London\">London</option>\n      <option value=\"New York\">New York</option>\n      <option value=\"Edinburgh\">Edinburgh</option>\n      <option value=\"San Francisco\">San Francisco</option>\n    </select></label>\n    <label>Age:\n      <input name=\"age\" type=\"number\" data-qa=\"age\" min = \"18\" required>\n    </label>\n    <label>\n      Salary: <input name=\"salary\" type=\"number\" data-qa=\"salary\" required>\n    </label>\n    <button type=\"button\">Save to table</button>\n  </form>\n`);\n\nfunction printNotification(stat, message) {\n  body.insertAdjacentHTML('beforeend', `\n    <div class=\"notification ${stat}\"\n      data-qa=\"notification\">${stat} <br> ${message}\n    </div>\n  `);\n\n  const notification = document.querySelector('.notification');\n\n  setTimeout(() => {\n    notification.remove();\n  }, 2000);\n}\n\nconst form = document.querySelector('form');\nconst button = form.querySelector('button');\nconst nameInput = form.querySelector('[data-qa=\"name\"]');\nconst ageInput = form.querySelector('[data-qa=\"age\"]');\nconst positionInput = form.querySelector('[data-qa=\"position\"]');\nconst officeInput = form.querySelector('[data-qa=\"office\"]');\nconst salaryInput = form.querySelector('[data-qa=\"salary\"]');\n\nbutton.addEventListener('click', e => {\n  let salaryFormated = '';\n\n  if (nameInput.value.length < 4\n      || parseInt(ageInput.value) < 18\n      || parseInt(ageInput.value) > 90\n      || !Number.isInteger(parseInt(ageInput.value))\n      || !Number.isInteger(parseInt(salaryInput.value))\n      || !nameInput.value\n      || !ageInput.value\n      || !positionInput.value\n      || !officeInput.value\n      || !salaryInput.value\n  ) {\n    printNotification('error', 'Your data is invalid');\n  } else {\n    let count = 0;\n\n    if (salaryInput.value.length <= 3) {\n      salaryFormated = salaryInput;\n    } else {\n      for (let i = salaryInput.value.length - 1; i >= 0; i--) {\n        salaryFormated = salaryInput.value[i] + salaryFormated;\n        count++;\n\n        if (count === 3 && i !== 0) {\n          salaryFormated = ',' + salaryFormated;\n          count = 0;\n        }\n      }\n    }\n\n    salaryFormated = '$' + salaryFormated;\n\n    tbody.insertAdjacentHTML('beforeend', `\n      <tr>\n        <td>${nameInput.value}</td>\n        <td>${positionInput.value}</td>\n        <td>${officeInput.value}</td>\n        <td>${ageInput.value}</td>\n        <td>${salaryFormated}</td>\n      </tr>\n    `);\n\n    printNotification('success', 'New employee is successfully added');\n\n    nameInput.value = '';\n    ageInput.value = '';\n    positionInput.value = '';\n    officeInput.value = '';\n    salaryInput.value = '';\n  }\n});\n"]}